<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interval Timer Routine</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
</head>
<body>
    <div class="app">
        <!-- Total duration will be injected above the form by JS -->
        <form id="routine-form">
            <button type="submit" class="btn btn--primary btn--icon" aria-label="Save" title="Save">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M5 5h11l3 3v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                    <path d="M9 5v6h6V5" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                    <rect x="9" y="14" width="6" height="6" rx="1" fill="none" stroke="currentColor" stroke-width="2" />
                </svg>
            </button>
            <select id="load-routine-select"></select>
            <button id="delete-routine-btn" type="button" class="btn btn--danger btn--icon" aria-label="Delete" title="Delete">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M3 6h18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    <path d="M8 6l1-3h6l1 3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <rect x="6" y="6" width="12" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2" />
                    <path d="M10 11v6M14 11v6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
            </button>
        </form>
        <div id="timers-container"></div>
        <button id="add-timer" class="btn btn--success btn--icon" aria-label="Add Timer" title="Add Timer">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 5v14M5 12h14" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" />
            </svg>
        </button>
        <audio id="chime-audio"></audio>
    </div>
    <!-- Save Routine Modal -->
    <div id="save-modal" class="modal" aria-hidden="true">
        <div class="modal-backdrop" data-close="true"></div>
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="save-modal-title">
            <h2 id="save-modal-title">Save Routine</h2>
            <label for="save-modal-name" class="sr-only">Routine Name</label>
            <input id="save-modal-name" type="text" placeholder="Routine Name" />
            <div class="modal-actions">
                <button id="save-modal-cancel" type="button" class="btn btn--secondary">Cancel</button>
                <button id="save-modal-save" type="button" class="btn btn--primary btn--icon" aria-label="Save" title="Save">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M5 5h11l3 3v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        <path d="M9 5v6h6V5" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
                        <rect x="9" y="14" width="6" height="6" rx="1" fill="none" stroke="currentColor" stroke-width="2" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Confirm Delete Modal -->
    <div id="confirm-modal" class="modal" aria-hidden="true">
        <div class="modal-backdrop" data-close="true"></div>
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="confirm-modal-title">
            <h2 id="confirm-modal-title">Delete Routine</h2>
            <p id="confirm-modal-message">Are you sure?</p>
            <div class="modal-actions">
                <button id="confirm-modal-cancel" type="button" class="btn btn--secondary">Cancel</button>
                <button id="confirm-modal-confirm" type="button" class="btn btn--danger">Delete</button>
            </div>
        </div>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="toast" aria-live="polite" aria-atomic="true"></div>

    <script type="module" src="src/main.js"></script>
</body>
</html>
